### 第四章：基本的蒙地卡羅模擬

蒙地卡羅模擬的基本原理在於利用隨機數生成大量樣本來估計某個數值。在這一章中，我們將介紹一個基本的範例：如何使用蒙地卡羅方法來估計圓周率 π 的值，並探討隨機取樣技術的應用。

---

##### 基本範例：估計圓周率

圓周率 π 的值約為 3.14159，這是一個著名的數學常數。利用蒙地卡羅方法估計 π 的基本思路如下：

1. 在一個邊長為 1 的正方形中，內接一個半徑為 0.5 的圓。
2. 隨機投擲點，計算落在圓內的點與總點數的比例。
3. 圓的面積與正方形的面積的比例是 π/4，因此可以用這個比例來估計 π。

**實作步驟**：

1. **設置隨機數生成器**。
2. **隨機生成點的坐標**（x, y）。
3. **判斷這些點是否落在圓內**（滿足 x² + y² ≤ (0.5)²）。
4. **計算估計的 π 值**。

以下是用 Python 實作的範例：

```python
import random

def estimate_pi(num_samples):
    inside_circle = 0

    for _ in range(num_samples):
        x = random.uniform(0, 1)  # 隨機生成 x 坐標
        y = random.uniform(0, 1)  # 隨機生成 y 坐標
        
        # 判斷點是否在圓內
        if x**2 + y**2 <= 0.25:
            inside_circle += 1

    # 估計 π 的值
    pi_estimate = (inside_circle / num_samples) * 4
    return pi_estimate

# 設定樣本數
samples = 1000000
pi_value = estimate_pi(samples)
print(f"估計的圓周率 π 值為：{pi_value}")
```

在這個程式中，我們設定了一百萬個樣本來進行模擬。最終計算出的 π 值會隨著樣本數的增加而越接近於真實值。

---

##### 隨機取樣技術

隨機取樣是蒙地卡羅模擬中的一個核心技術，關鍵在於如何有效地選取隨機樣本以保證估計結果的準確性。以下是幾種常見的隨機取樣技術：

1. **簡單隨機取樣**：
   - 從整個樣本空間中均勻隨機地選取樣本，每個樣本被選中的概率相等。這是最基本的隨機取樣方法。

2. **分層取樣**：
   - 將樣本空間劃分為不同的層，每一層內部進行簡單隨機取樣。這種方法可以確保每一層的特徵都能被充分反映，從而提高估計的精度。

3. **系統取樣**：
   - 根據一定的規則（例如每隔 k 個樣本選取一個），從樣本空間中選取樣本。這種方法在處理大數據時特別有效。

4. **重要性取樣**：
   - 根據某些特定的概率分佈來選取樣本，這種方法能夠提高估計的效率，特別是在某些結果的概率較低時。通過選擇更多的高概率樣本，可以提高估計的準確性。

5. **自助取樣**：
   - 這是一種重複取樣的方法，從原始樣本中隨機抽取樣本，並允許重複抽取。自助取樣在統計推斷中被廣泛應用，特別是在估計模型的穩定性和變異性時。

---

這一章介紹了基本的蒙地卡羅模擬及其在估計圓周率中的應用，並探討了不同的隨機取樣技術。這些知識將為我們後續更深入的蒙地卡羅模擬和其他應用提供基礎。在接下來的章節中，我們將探討蒙地卡羅積分的概念和實作。