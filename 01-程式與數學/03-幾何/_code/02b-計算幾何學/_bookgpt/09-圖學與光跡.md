### **第 9 章 計算幾何在圖形學中的應用**

---

#### **9.1 碰撞檢測**

碰撞檢測是計算幾何在計算機圖形學和模擬中的核心應用，用於確定物體是否相交或接觸。

---

##### **9.1.1 碰撞檢測的類型**

- **靜態碰撞檢測**  
  - 用於判斷靜止物體是否發生碰撞。  
  - 例如：線段與多邊形的相交測試。

- **動態碰撞檢測**  
  - 用於追踪運動物體的相交過程。  
  - 例如：基於時間參數的連續碰撞測試。

---

##### **9.1.2 碰撞檢測的基本技術**

- **包圍體檢測**  
  1. **軸對齊邊界框（AABB）**  
     - 簡單且高效，適合初步篩選。  
  2. **最小包圍圓（Minimum Bounding Circle, MBC）**  
     - 用於圓形物體或近似球體的檢測。

- **分層方法**  
  - 使用層級結構（如四叉樹或 BVH）加速檢測過程。

- **幾何相交測試**  
  1. 點與多邊形：射線法、奇偶性測試。  
  2. 線段與線段：判斷方向向量與交點。

---

##### **9.1.3 碰撞檢測的應用**

- 遊戲引擎：確保物體互動的真實性與物理性。  
- 模擬系統：如機器人運動規劃與多體動力學。  
- 3D 設計工具：避免建模中物體重疊。

---

#### **9.2 可見性問題與光線追蹤**

可見性問題與光線追蹤是計算幾何在光影模擬與渲染中的重要應用。

---

##### **9.2.1 可見性問題**

- **定義**  
  - 判斷場景中從某一點或視角可見的物體與區域。

- **技術**  
  1. **遮擋剔除（Occlusion Culling）**  
     - 避免渲染被遮擋的物體，提升渲染效率。  
  2. **視錐裁剪（Frustum Culling）**  
     - 僅渲染攝像機視錐內的物體。

- **演算法**  
  - Z 緩衝法：基於深度緩衝區的像素深度比較。  
  - BSP 樹：分割場景空間以快速判斷遮擋關係。

---

##### **9.2.2 光線追蹤**

- **概念**  
  - 模擬光線從視角發射並與場景中的物體相交，生成逼真的光影效果。

- **核心步驟**  
  1. 發射光線：從攝像機或視角出發，投射光線。  
  2. 計算相交點：檢測光線與場景中幾何物體的交點。  
  3. 模擬光線反射、折射與陰影。

- **演算法優化**  
  1. **空間分割**  
     - 使用加速結構（如 KD-樹或 BVH）減少相交測試次數。  
  2. **採樣方法**  
     - 蒙特卡羅採樣：提高間接光的模擬精度。  

- **應用場景**  
  - 實時渲染（RTX 技術）。  
  - 電影視覺效果。  
  - 照明設計模擬。

---

#### **9.3 幾何建模**

幾何建模是生成和操作數字幾何形狀的核心技術，涉及設計、編輯與操作幾何物體。

---

##### **9.3.1 幾何建模的基礎**

- **建模方法**  
  1. **基於多邊形**  
     - 使用頂點與面構造物體的網格結構。  
  2. **曲面建模**  
     - 使用數學函數表示曲線與曲面（如 Bezier 曲線、NURBS）。  
  3. **程序化建模**  
     - 使用參數化或算法生成幾何形狀（如 L 系統生成樹形結構）。  

- **幾何操作**  
  - 變形：平移、旋轉、縮放。  
  - 拓撲操作：細分曲面、網格簡化。  

---

##### **9.3.2 幾何建模的應用**

- **建築與工業設計**  
  - 使用 CAD 工具設計精確的三維幾何模型。  
- **遊戲與動畫**  
  - 創建角色與場景模型，並進行動畫綁定。  
- **科學模擬**  
  - 用於模擬物理現象（如流體與氣體動力學）。

---

#### **章節總結**  
本章探討了計算幾何在圖形學中的應用，包括碰撞檢測的技術與應用，可見性問題與光線追蹤的基礎與優化，以及幾何建模的方法與實踐，展示了計算幾何對視覺化與模擬技術的深遠影響。